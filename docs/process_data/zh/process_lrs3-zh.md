# å¤„ç†LRS3-TEDæ•°æ®é›†

æˆ‘ä»¬åˆ©ç”¨LRS3æ•°æ®é›†æ¥è®­ç»ƒä¸€ä¸ªé²æ£’çš„è¯­éŸ³è½¬åŠ¨ä½œçš„æ˜ å°„ï¼Œè¿™ä¹Ÿæ˜¯GeneFaceèƒ½å¤Ÿå®žçŽ°é«˜æ³›åŒ–èƒ½åŠ›çš„æ ¸å¿ƒæ‰€åœ¨ã€‚é™¤äº†audio2motionæ¨¡åž‹å¤–ï¼ŒLRS3æ•°æ®é›†è¿˜è¢«ç”¨æ¥è®­ç»ƒpostnetå’Œsyncnetã€‚

## å¤„ç†å®Œæ¯•çš„LRS3æ•°æ®é›†æ–‡ä»¶å¯ç”¨

ðŸ”¥æ³¨æ„ï¼šç”±äºŽæˆ‘ä»¬è½¬å‘æ–°çš„3DMMæå–å™¨ï¼Œæˆ‘ä»¬æ›´æ–°äº†æä¾›çš„lrs3æ•°æ®é›†ã€‚æ‚¨å¯èƒ½éœ€è¦ä¸‹è½½æœ€æ–°çš„æ•°æ®é›†æ–‡ä»¶ä»¥ä¸Žæœ€æ–°çš„ä»£ç å…¼å®¹ã€‚

ç”±äºŽLRS3æ•°æ®é›†æ•°æ®é‡è¾ƒå¤§ï¼ˆ500å°æ—¶+ï¼‰ï¼Œå…¶å¤„ç†è¿‡ç¨‹éžå¸¸æ¶ˆè€—è®¡ç®—èµ„æºï¼Œå› æ­¤æˆ‘ä»¬åœ¨ç™¾åº¦äº‘ç›˜æä¾›äº†å¤„ç†å¥½çš„LRS3æ•°æ®é›†ï¼ˆæ€»å…±çº¦26GBï¼‰ã€‚å¦‚æžœä½ ä½¿ç”¨æˆ‘ä»¬å¤„ç†å¥½çš„æ•°æ®é›†ï¼Œå¯ä»¥è·³è¿‡ä¸‹é¢çš„æ­¥éª¤1-3ï¼Œç›´æŽ¥è¿›å…¥æ­¥éª¤4ï¼ŒéªŒè¯å®‰è£…æˆåŠŸã€‚

- è°·æ­Œç½‘ç›˜ä¸‹è½½é“¾æŽ¥ï¼š[åˆ†åŒº1](https://drive.google.com/drive/folders/1QK_ikLKUzGYiqHBzvKz0s5zKWeH-sm3L?usp=sharing)ï¼Œ[åˆ†åŒº2](https://drive.google.com/drive/folders/1WbECLfpxAZ0D7PcrlZxV-fCObT-TnfD8?usp=share_link)ã€‚
- ç™¾åº¦äº‘ç›˜ä¸‹è½½é“¾æŽ¥ï¼š[é“¾æŽ¥](https://pan.baidu.com/s/1JsvEz58c9ItSI73ls43tTw?pwd=lrs3)ï¼Œæå–ç :`lrs3`
- å¦‚ä½•ä½¿ç”¨:

  - æ­¥éª¤1ï¼šå°†æ‹†åˆ†çš„å­æ–‡ä»¶è¿˜åŽŸæˆåŽ‹ç¼©åŒ… `cat lrs3.zip.part_* > lrs3.zip` ã€‚
  - æ­¥éª¤2ï¼šå°†åŽ‹ç¼©åŒ…è§£åŽ‹ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ° `data/binary/lrs3` ç›®å½•ä¸‹ã€‚
- å…è´£å£°æ˜Žï¼šæˆ‘ä»¬æä¾›çš„æ–‡ä»¶ä»…åŒ…å«äº†ç»è¿‡æ•°æ®è„±æ•å¤„ç†çš„ç‰¹å¾ï¼ˆæ¯”å¦‚HuBETä½œä¸ºéŸ³é¢‘çš„è¡¨å¾ï¼‰ï¼Œæ²¡æœ‰ä¾µçŠ¯LRS3ä¸­è§†é¢‘çš„ç‰ˆæƒã€‚

## æ­¥éª¤1. ç”³è¯·å¹¶ä¸‹è½½LRS3-TEDæ•°æ®é›†

ç”±äºŽLicenseçš„åŽŸå› ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨è¿™é‡Œæä¾›ä¸‹è½½é“¾æŽ¥ã€‚è¯·æ‚¨é€šè¿‡[è¿™ä¸ªé“¾æŽ¥](https://www.robots.ox.ac.uk/~vgg/data/lip_reading/lrs3.html)å‘LRS3-TEDæ•°æ®é›†çš„æ‰€æœ‰è€…æäº¤ç”³è¯·ã€‚

## æ­¥éª¤2. å¤„ç†LRS3æ•°æ®é›†

åœ¨å¤„ç†LRS3ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨æŒ‰ç…§ `dosc/prepare_env/install_guide.md` çš„æ­¥éª¤æ­£ç¡®å®‰è£…äº†å¤„ç†LRS3æ•°æ®é›†çš„ `geneface`çŽ¯å¢ƒã€‚

æŽ¥ç€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¡Œï¼ˆä½ å¯èƒ½éœ€è¦ä¿®æ”¹ä¸‹é¢ `.py`æ–‡ä»¶é‡Œé¢çš„è·¯å¾„åï¼‰ï¼š

```
conda activate 
CUDA_VISIBLE_DEVICES=0 python data_gen/process_lrs3/process_video.py # extract 3dmm motion representations
CUDA_VISIBLE_DEVICES=0 python data_gen/process_lrs3/process_audio_mel_f0.py # extract mel spectrogram
CUDA_VISIBLE_DEVICES=0 python data_gen/process_lrs3/process_audio_hubert.py # extract hubert audio representations
```

ç”±äºŽLRS3-TEDæ•°æ®é›†æ¯”è¾ƒå¤§ï¼Œæ‚¨å¯èƒ½éœ€è¦åŒæ—¶å¼€å¤šä¸ªpythonè¿›ç¨‹ï¼Œä»¥åˆ©ç”¨å¤šä¸ªgpuæ¥åŠ é€Ÿæ•°æ®é¢„å¤„ç†ã€‚

## æ­¥éª¤3. å°†æ•°æ®é›†æ‰“åŒ…

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¡Œï¼ˆä½ å¯èƒ½éœ€è¦ä¿®æ”¹ä¸‹é¢ `.py`æ–‡ä»¶é‡Œé¢çš„è·¯å¾„åï¼‰

```
conda activate procerss_lrs3
python data_gen/process_lrs3/binarizer.py 
```

## æ­¥éª¤4. éªŒè¯

å¦‚æžœä¸Šè¿°æ­¥éª¤éƒ½é¡ºåˆ©å®Œæˆçš„è¯ï¼Œæ‚¨å°†èƒ½åœ¨ `data/binary/lrs3`è·¯å¾„çœ‹åˆ°å¤„ç†å¥½çš„LRS3æ•°æ®é›†ã€‚ç†æƒ³çŠ¶æ€ä¸‹ï¼Œä½ çš„ `data`æ–‡ä»¶å¤¹å†…éƒ¨ç»“æž„åº”è¯¥æ˜¯ç±»ä¼¼è¿™æ ·çš„ï¼š

```
> data
    > binary
        > lrs3
            sizes_train.npy
            sizes_val.npy
            spk_id2ispk_idx.npy
            stats.npy
            train.data
            train.idx
            val.data
            val.idx
```
